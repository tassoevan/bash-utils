#!/bin/bash

if !( file --mime-type --brief "$1" | grep "audio\|video" > /dev/null ); then
  exit 1
fi

avprobe -loglevel error -show_streams "$1" | grep duration= | cut -f2 -d= | sort --reverse | head -n1
